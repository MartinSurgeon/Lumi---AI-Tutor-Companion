<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Lumi - AI Tutor</title>
    <script src="https://cdn.tailwindcss.com" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
      body {
        font-family: 'Sora', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: linear-gradient(to bottom, #f0f4ff, #faf5ff, #fdf2f8);
        color: #0f172a;
      }
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f5f9; 
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1; 
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8; 
      }

      /* Custom Animations */
      @keyframes scan {
        0% { top: 0%; opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { top: 100%; opacity: 0; }
      }
      
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      @keyframes reverse-spin-slow {
        from { transform: rotate(360deg); }
        to { transform: rotate(0deg); }
      }

      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
      
      @keyframes pulse-glow {
        0%, 100% { opacity: 0.5; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
      }

      @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes slide-up {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      @keyframes zoom-in {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }

      .animate-scan {
        animation: scan 3s linear infinite;
      }
      
      .animate-spin-slow {
        animation: spin-slow 8s linear infinite;
      }
      
      .animate-reverse-spin-slow {
        animation: reverse-spin-slow 12s linear infinite;
      }

      .animate-float {
        animation: float 4s ease-in-out infinite;
      }
      
      .animate-pulse-glow {
        animation: pulse-glow 3s ease-in-out infinite;
      }

      .animate-fade-in {
        animation: fade-in 0.5s ease-out forwards;
      }

      .animate-slide-up {
        animation: slide-up 0.5s ease-out forwards;
      }
      
      .animate-zoom-in {
        animation: zoom-in 0.3s ease-out forwards;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      // Debug: Log current URL
      console.log('Page loading from:', window.location.href);
      console.log('Hostname:', window.location.hostname);
      
      // Ensure Tailwind CSS is loaded
      const checkTailwind = () => {
        if (typeof tailwind === 'undefined' && !document.querySelector('script[src*="tailwindcss"][data-loaded]')) {
          console.warn('Tailwind CSS not loaded, attempting to load...');
          const existingScript = document.querySelector('script[src*="tailwindcss"]');
          if (existingScript) {
            existingScript.setAttribute('data-loaded', 'true');
            // Wait a bit and check again
            setTimeout(() => {
              if (typeof tailwind === 'undefined') {
                console.error('Tailwind CSS still not available after load');
              } else {
                console.log('Tailwind CSS loaded successfully');
                window.dispatchEvent(new Event('tailwind-loaded'));
              }
            }, 500);
          } else {
            const script = document.createElement('script');
            script.src = 'https://cdn.tailwindcss.com';
            script.crossOrigin = 'anonymous';
            script.setAttribute('data-loaded', 'true');
            script.onload = () => {
              console.log('Tailwind CSS loaded successfully (fallback)');
              window.dispatchEvent(new Event('tailwind-loaded'));
            };
            script.onerror = () => {
              console.error('Failed to load Tailwind CSS from CDN');
            };
            document.head.appendChild(script);
          }
        } else {
          console.log('Tailwind CSS already available');
          window.dispatchEvent(new Event('tailwind-loaded'));
        }
      };
      
      // Check after DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', checkTailwind);
      } else {
        setTimeout(checkTailwind, 100);
      }
      
      // Check if fonts are loaded
      document.fonts.ready.then(() => {
        console.log('Fonts loaded successfully');
      }).catch(err => {
        console.warn('Font loading issue:', err);
      });
    </script>
  </body>
</html>